{"version":3,"names":["View","StyleSheet","Text","ImageBackground","React","useState","useEffect","ZegoUIKitInternal","AudioFrame","props","userInfo","showSoundWave","audioViewBackgroudColor","audioViewBackgroudImage","hasSound","setHasSound","getShotName","name","nl","split","shotName","forEach","part","substring","onSoundLevelUpdate","userID","soundLevel","cstyle","container","uri","styles","imgBackground","waveStyle","circleWave","subCircleWave","avatar","nameLabel","userName","bgColor","create","flex","width","height","position","justifyContent","backgroundColor","w","color","alignSelf","toString","aspectRatio","borderRadius","zIndex","alignContent","alignItems","fontSize"],"sources":["AudioFrame.js"],"sourcesContent":["import { View, StyleSheet, Text, ImageBackground } from \"react-native\";\nimport React, { useState, useEffect } from 'react'\nimport ZegoUIKitInternal from \"../../internal/ZegoUIKitInternal\";\n\nexport default function AudioFrame(props) {\n    const {\n        userInfo,\n        showSoundWave,\n        audioViewBackgroudColor,\n        audioViewBackgroudImage\n    } = props;\n\n    const [hasSound, setHasSound] = useState(false);\n\n    const getShotName = (name) => {\n        if (!name) {\n            return '';\n        }\n        const nl = name.split(' ');\n        var shotName = '';\n        nl.forEach(part => {\n            if (part !== '') {\n                shotName += part.substring(0, 1);\n            }\n        });\n        return shotName;\n    }\n\n\n    useEffect(() => {\n        ZegoUIKitInternal.onSoundLevelUpdate('AudioFrame' + userInfo.userID, (userID, soundLevel) => {\n            if (userInfo.userID == userID) {\n                setHasSound(soundLevel > 5);\n            }\n        });\n        return () => {\n            ZegoUIKitInternal.onSoundLevelUpdate('AudioFrame' + userInfo.userID);\n        }\n    }, [])\n\n    return (\n        <View style={cstyle(audioViewBackgroudColor ? audioViewBackgroudColor : '#4A4B4D').container}>\n            <ImageBackground\n                source={audioViewBackgroudImage\n                    ? { uri: audioViewBackgroudImage }\n                    : null} resizeMode=\"cover\"\n                style={styles.imgBackground}\n            >\n                {showSoundWave && hasSound ?\n                    <View style={waveStyle(164, '#515155').circleWave}>\n                        <View style={waveStyle(153, '#636266').subCircleWave} />\n                        <View style={waveStyle(141, '#6B6A71').subCircleWave} />\n                    </View> :\n                    <View />\n                }\n                <View style={styles.avatar}>\n                    <Text style={styles.nameLabel}>{getShotName(userInfo.userName)}</Text>\n                </View>\n            </ImageBackground>\n        </View>\n    );\n}\n\nconst cstyle = (bgColor) => StyleSheet.create({\n    container: {\n        flex: 1,\n        width: '100%',\n        height: '100%',\n        position: 'absolute',\n        justifyContent: 'center',\n        backgroundColor: bgColor,\n    },\n})\nconst waveStyle = (w, color) => StyleSheet.create({\n    circleWave: {\n        flex: 1,\n        position: 'absolute',\n        alignSelf: 'center',\n        width: (w / 375 * 100).toString() + '%',\n        aspectRatio: 1,\n        borderRadius: 1000,\n        backgroundColor: color,\n        zIndex: 0,\n        justifyContent: 'center',\n        alignContent: 'center'\n\n    },\n    subCircleWave: {\n        flex: 1,\n        position: 'absolute',\n        alignSelf: 'center',\n        width: (w / 164 * 100).toString() + '%',\n        aspectRatio: 1,\n        borderRadius: 1000,\n        backgroundColor: color,\n        zIndex: 0,\n\n    },\n});\nconst styles = StyleSheet.create({\n    imgBackground: {\n        flex: 1,\n        width: '100%',\n        height: '100%',\n        position: 'absolute',\n        justifyContent: 'center',\n    },\n    avatar: {\n        flex: 1,\n        width: (129 / 375 * 100).toString() + '%',\n        aspectRatio: 1,\n        borderRadius: 1000,\n        backgroundColor: '#DBDDE3',\n        position: 'absolute',\n        alignSelf: 'center',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 2,\n    },\n    nameLabel: {\n        flex: 1,\n        position: 'absolute',\n        color: '#222222',\n        fontSize: 22,\n    }\n});"],"mappings":"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"}